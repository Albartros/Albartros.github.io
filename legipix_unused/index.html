<!DOCTYPE html>
<html lang="fr">
<head>
    <title>Legipix - Chat</title>
    <meta charset="utf-8">

    <!-- Metas -->
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <meta name="csrf-token" id="_token" content="2eSUsXdG6weE1qPF8LxGz0zdXTXxZ9WuKz45xRlD" />
    <meta name="pusher-app" content="9ead5fd3e1b2a6fbf947">

    <!-- Styles -->
    <link href="./css/app.css" rel="stylesheet" type="text/css">
    <link href="./css/animate.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,100|Source+Sans+Pro:400,600" rel="stylesheet" type="text/css">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="./img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./img//favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="./img//favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./img/favicon/favicon-16x16.png">
    <link rel="manifest" href="./img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#d1c4e9">
    <meta name="msapplication-TileImage" content="./img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#d1c4e9">
</head>

<body class="body  body--mountain
">

<nav class="nav__container   nav__container--cristal
">
<div class="nav">
    <a class="nav__logo" href=".">
        <img draggable="false" alt="logo" class="nav__logo__image nav__logo__image--shown" src="./img/logo/logo_blank.svg">
            <img draggable="false" alt="logo" class="nav__logo__image" src="./img/logo/logo_smile.svg">
            <span class="nav__logo__name">LegiPix</span>
            <span class="nav__logo__dot">.net</span>
        </a>
        <menu class="nav__menu">
            <li class="nav__menu__item">
                <span class="nav__menu__link nav__menu__link--selected" href="./users">Membres</span>
            </li>
        </menu>
    </div>
</nav>


<div class="mainWrapper">
    <div class="chat" id="app">
    <div id="chatOverlay" data-title="Membres de ce Groupe" class="chat__members">
        <div id="chatOverlayUsers" class="chat__members__container mainWrapper"></div>
        <button id="chatOverlayClose" class="chat__members__close button">Fermer</button>
    </div>
    <aside id="chatboxMembers" class="chat__groups">
        <div class="chat__groups__search" style="text-align: center; height: 3.75em; line-height: 3.75em; padding: 0;">
            Annuaire de nos Membres
        </div>
        <div id="chatboxGroups" class="animated fadeIn">

            <template v-for="thread in threads">
                <a class="chat__groups__group" v-bind:class="{ 'chat__groups__group--selected' : activeThread == $index }" v-on:click="chooseThread($index)">
                    <div class="chat__groups__group__image">
                        <img src="{{ thread.avatarURL }}" alt="icon-chat-{{ thread.name }}" class="chat__groups__group__image__image">
                    </div>
                    <div class="chat__groups__group__info">
                        <div class="chat__groups__group__info__chat">
                            <h2 class="chat__groups__group__info__chat__name"><span class="chat__groups__group__info__chat__name__title">{{ thread.name }}</span></h2>
                        </div>
                        <div class="chat__groups__group__info__lastPost">
                            <div class="chat__groups__group__info__lastPost__text" style="margin-right: 0">
                                {{{ thread.catchphrase | emoji }}}
                            </div>
                        </div>
                    </div>
                </a>
            </template>

            <h2 v-cloak class="chat__groups__title">
                <a href="#" class="button">Apparaître dans cette liste</a>
            </h2>

            <noscript class="chat__groups__notice">
                Le chat nécessitent l'activation de javaScript.
            </noscript>
        </div>
    </aside>
    <section class="chat__core">
        <header class="chat__core__header">
            <div class="chat__core__header__icon animated fadeIn">
                <img v-show="threads[activeThread].avatarURL" src="{{ threads[activeThread].avatarURL }}" alt="icon-chat" class="chat__groups__group__image__image chat__core__header__icon__img">
            </div>
            <div class="chat__core__header__info animated fadeIn">
                <h1 class="chat__core__header__info__name">{{ threads[activeThread].name }}</h1>
                <h2 class="chat__core__header__info__description">{{ threads[activeThread].role }}</h2>
            </div>
            <div v-cloak class="animated fadeIn chat__core__header__actions">
                <template v-for="contact in threads[activeThread].contacts">
                    <a target="_blank" href="{{ contact.url }}" class="button" style="margin-left: 5px">{{ contact.name }}</a>
                </template>
            </div>
        </header>
        <div id="chatboxMessages" class="chat__core__container mainWrapper" style="overflow: hidden">
            <div class="chat__core__container__loading" v-show="messages.length == 0">
                <div class="sk-folding-cube">
                  <div class="sk-cube1 sk-cube"></div>
                  <div class="sk-cube2 sk-cube"></div>
                  <div class="sk-cube4 sk-cube"></div>
                  <div class="sk-cube3 sk-cube"></div>
                </div>
            </div>

            <div class="chat__core__container__holder" style="height: 100%">
                <img v-cloak src="{{ threads[activeThread].spartanURL }}" alt="spartan" style="filter: drop-shadow(5px 5px 10px black); width: 50%; position: absolute; bottom: 0; left: -5%">
                <div style="width: 55%; position: absolute; right: 0; top: 0; height: 100%;">
                    
                    <div class="animated fadeIn" style="position: relative;text-align: justify; height: calc(100% - 200px)">
                        
                        <div v-cloak style="position: absolute; top: 50%; transform: translateY(-50%); margin: 0 10px; padding: 10px; border-radius: 5px; background-color: white">
                            <h3 style="text-align: center">{{{ threads[activeThread].catchphrase | emoji }}}</h3>
                            <p>{{{ threads[activeThread].description_1 | emoji }}}</p>
                            <p>{{{ threads[activeThread].description_2 | emoji }}}</p>
                        </div>
                    </div>


                    <div style="position: absolute; bottom: -20px; right: 0; height: 200px; text-align: center">
                        <img v-cloak class="animated slideInUp" style=" filter: drop-shadow(3px 2px 2px black); height: 90%;" src="./img/games/{{ threads[activeThread].games[0].image }}" alt="">
                        <img v-cloak class="animated slideInUp" style=" filter: drop-shadow(2px 2px 2px black); z-index: -1;height: 80%;position: relative;left: -10%;" src="./img/games/{{ threads[activeThread].games[1].image }}" alt="">
                        <img v-cloak class="animated slideInUp" style=" z-index: -2;height: 70%;position: relative;left: -20%; filter: drop-shadow(1px 1px 1px black);" src="./img/games/{{ threads[activeThread].games[2].image }}" alt="">
                    </div>
                    <div class="animated fadeIn" style="position: absolute;bottom: 10px;right: 30px;font-size: 0.2em;width:1px;word-wrap: break-word;line-height: 25px;">{{{ threads[activeThread].lang | emoji }}}</div>
                </div>

            </div>
        </div>
</section>
</div>

<!-- Audio -->
<audio preload="auto" id="chatAudio">
    <source src="./audio/notification.wav" type="audio/wav">
</audio>
</div>

<footer class="footer">
    <div class="footer__copyright   footer__copyright--cristal
    ">
    Tous droits réservés - 2014 - 2016
</div>
</footer>

<!-- EmojiOne -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.1.4/assets/css/emojione.min.css">
<script type="text/javascript" src="./js/emoji_strategy.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.1.4/lib/js/emojione.min.js"></script>
<!-- Page Libraries -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.24/vue.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/0.8.0/vue-resource.min.js"></script>
<!-- Page Script -->
<script type="text/javascript" src="./js/users.js"></script>

</body>
</html>
